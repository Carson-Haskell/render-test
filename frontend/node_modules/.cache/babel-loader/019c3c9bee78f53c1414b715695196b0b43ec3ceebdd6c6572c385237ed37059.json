{"ast":null,"code":"import _objectSpread from\"/Users/carsonhaskell/Desktop/Projects/fullstack-follow-along/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"/Users/carsonhaskell/Desktop/Projects/fullstack-follow-along/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/carsonhaskell/Desktop/Projects/fullstack-follow-along/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import noteService from\"./services/note\";import Note from\"./components/Note\";import Notification from\"./components/Notification\";import Footer from\"./components/Footer\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),notes=_useState2[0],setNotes=_useState2[1];var _useState3=useState(\"a new note...\"),_useState4=_slicedToArray(_useState3,2),newNote=_useState4[0],setNewNote=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),showAll=_useState6[0],setShowAll=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),errorMessage=_useState8[0],setErrorMessage=_useState8[1];useEffect(function(){noteService.getAll().then(function(notesData){return setNotes(notesData);});},[]);var addNote=function addNote(event){event.preventDefault();var nextNote={content:newNote,important:Math.random()<0.5};noteService.create(nextNote).then(function(returnedNote){setNotes([].concat(_toConsumableArray(notes),[returnedNote]));setNewNote(\"\");});setNewNote(\"\");};var _toggleImportance=function toggleImportance(id){var note=notes.find(function(note){return note.id===id;});var updatedNote=_objectSpread(_objectSpread({},note),{},{important:!note.important});noteService.update(id,updatedNote).then(function(returnedNote){return setNotes(notes.map(function(note){return note.id!==id?note:returnedNote;}));})// Display error message for 5 seconds\n.catch(function(_){setErrorMessage(\"Note '\".concat(note.content,\"' was already removed from the server\"));setTimeout(function(){setErrorMessage(null);},5000);setNotes(notes.filter(function(note){return note.id!==id;}));});};var notesToShow=showAll?notes:notes.filter(function(note){return note.important;});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Notes\"}),/*#__PURE__*/_jsx(Notification,{message:errorMessage}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(){return setShowAll(!showAll);},children:[\"Show \",showAll?\"important\":\"all\"]})}),/*#__PURE__*/_jsx(\"ul\",{children:/*#__PURE__*/_jsx(\"ul\",{children:notesToShow.map(function(note){return/*#__PURE__*/_jsx(Note,{note:note,toggleImportance:function toggleImportance(){return _toggleImportance(note.id);}},note.id);})})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:addNote,children:[/*#__PURE__*/_jsx(\"input\",{value:newNote,onChange:function onChange(event){return setNewNote(event.target.value);}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Save\"})]}),/*#__PURE__*/_jsx(Footer,{})]});};export default App;","map":{"version":3,"names":["useState","useEffect","noteService","Note","Notification","Footer","jsx","_jsx","jsxs","_jsxs","App","_useState","_useState2","_slicedToArray","notes","setNotes","_useState3","_useState4","newNote","setNewNote","_useState5","_useState6","showAll","setShowAll","_useState7","_useState8","errorMessage","setErrorMessage","getAll","then","notesData","addNote","event","preventDefault","nextNote","content","important","Math","random","create","returnedNote","concat","_toConsumableArray","toggleImportance","id","note","find","updatedNote","_objectSpread","update","map","catch","_","setTimeout","filter","notesToShow","children","message","onClick","onSubmit","value","onChange","target","type"],"sources":["/Users/carsonhaskell/Desktop/Projects/fullstack-follow-along/frontend/src/App.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport noteService from \"./services/note\";\n\nimport Note from \"./components/Note\";\nimport Notification from \"./components/Notification\";\nimport Footer from \"./components/Footer\";\n\nconst App = () => {\n  const [notes, setNotes] = useState([]);\n  const [newNote, setNewNote] = useState(\"a new note...\");\n  const [showAll, setShowAll] = useState(true);\n  const [errorMessage, setErrorMessage] = useState(null);\n\n  useEffect(() => {\n    noteService.getAll().then(notesData => setNotes(notesData));\n  }, []);\n\n  const addNote = event => {\n    event.preventDefault();\n\n    const nextNote = {\n      content: newNote,\n      important: Math.random() < 0.5,\n    };\n\n    noteService.create(nextNote).then(returnedNote => {\n      setNotes([...notes, returnedNote]);\n      setNewNote(\"\");\n    });\n\n    setNewNote(\"\");\n  };\n\n  const toggleImportance = id => {\n    const note = notes.find(note => note.id === id);\n    const updatedNote = { ...note, important: !note.important };\n\n    noteService\n      .update(id, updatedNote)\n      .then(returnedNote =>\n        setNotes(notes.map(note => (note.id !== id ? note : returnedNote)))\n      )\n      // Display error message for 5 seconds\n      .catch(_ => {\n        setErrorMessage(\n          `Note '${note.content}' was already removed from the server`\n        );\n\n        setTimeout(() => {\n          setErrorMessage(null);\n        }, 5000);\n\n        setNotes(notes.filter(note => note.id !== id));\n      });\n  };\n\n  const notesToShow = showAll ? notes : notes.filter(note => note.important);\n\n  return (\n    <div>\n      <h1>Notes</h1>\n      <Notification message={errorMessage} />\n      <div>\n        <button onClick={() => setShowAll(!showAll)}>\n          Show {showAll ? \"important\" : \"all\"}\n        </button>\n      </div>\n      <ul>\n        <ul>\n          {notesToShow.map(note => (\n            <Note\n              key={note.id}\n              note={note}\n              toggleImportance={() => toggleImportance(note.id)}\n            />\n          ))}\n        </ul>\n      </ul>\n      <form onSubmit={addNote}>\n        <input\n          value={newNote}\n          onChange={event => setNewNote(event.target.value)}\n        />\n        <button type=\"submit\">Save</button>\n      </form>\n      <Footer />\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}